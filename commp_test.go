package graphsplit

import (
	"bytes"
	"context"
	"encoding/base64"
	"io"
	"io/ioutil"
	"os"
	"testing"
)

func TestCalcCommP(t *testing.T) {
	logo := "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"
	logob, err := base64.StdEncoding.DecodeString(logo)
	if err != nil {
		t.Fatalf("base64 decode error: %v", err)
	}
	tempDir := os.TempDir()
	f, err := ioutil.TempFile(tempDir, "test_car")
	if err != nil {
		t.Fatalf("create tempfile error: %v", err)
	}
	defer f.Close()

	tempfile := f.Name()
	_, err = io.Copy(f, bytes.NewReader(logob))
	if err != nil {
		t.Fatal(err)
	}

	res, err := CalcCommP(context.TODO(), tempfile)
	if err != nil {
		t.Fatal(err)
	}
	if res.Root.String() != "baga6ea4seaqjri25o5pmj2aa7mrwd2kpadzr66ee7roj32savs5jvvunbdjboli" {
		t.Fatal("Unexpected piece CID")
	}
	if res.Size != 16256 {
		t.Fatal("Unexpected piece size")
	}
}
